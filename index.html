<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bitty's Love</title>
    <style>
        /* --- 基础设置 --- */
        :root {
            /* 天空颜色 */
            --sky-day-top: #e3f2fd;
            --sky-day-bottom: #90caf9;
            --sky-night-top: #09121d;
            --sky-night-bottom: #16233a;

            /* 海洋颜色 - 卡通分层风格 */
            /* 日间 */
            --ocean-wave-back: #00899b;   /* 后排深色 */
            --ocean-wave-mid: #00bcd4;    /* 中间色 */
            --ocean-wave-front: #4dd0e1;  /* 前排浅色 */
            --ocean-bg-day: #006064;      /* 底部填充 */

            /* 夜间 */
            --ocean-wave-back-night: #0d47a1;
            --ocean-wave-mid-night: #1565c0;
            --ocean-wave-front-night: #1e88e5;
            --ocean-bg-night: #0a3d91;

            /* 鸟的颜色 */
            --bird-color-day: #37474f;
            --bird-color-night: #b0bec5;

            --text-color: #ffffff;
            --celestial-angle: -90deg;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", Helvetica, Arial, sans-serif;
            background-color: var(--sky-day-top);
        }

        #app {
            position: relative;
            width: 100%;
            height: 100%;
            transition: background 3s ease;
            overflow: hidden;
        }

        .day-mode { background: linear-gradient(180deg, var(--sky-day-top) 0%, var(--sky-day-bottom) 100%); }
        .night-mode { background: linear-gradient(180deg, var(--sky-night-top) 0%, var(--sky-night-bottom) 100%); }

        /* --- 1. 天体轨道系统 --- */
        .celestial-orbit-container {
            position: absolute;
            bottom: -50vh;
            left: 50%;
            width: 150vmax;
            height: 150vmax;
            transform-origin: center center;
            transform: translate(-50%, 50%) rotate(var(--celestial-angle));
            z-index: 10;
            pointer-events: none;
            transition: transform 1s linear;
        }

        .celestial-body {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
        }

        .celestial-body-inner {
             width: 100%;
             height: 100%;
             border-radius: 50%;
             transform: rotate(calc(var(--celestial-angle) * -1));
             transition: all 2s ease;
        }

        .day-mode .celestial-body-inner {
            background: #fdd835;
            box-shadow: 0 0 50px rgba(253, 216, 53, 0.6);
        }
        .night-mode .celestial-body-inner {
            background: transparent;
            box-shadow: -15px 15px 0 2px #fff9c4;
            transform: rotate(calc(var(--celestial-angle) * -1 - 25deg)) scale(0.9);
        }

        /* --- 云朵 --- */
        .clouds-container { position: absolute; width: 100%; height: 60%; z-index: 5; pointer-events: none;}
        .cloud { position: absolute; background: rgba(255, 255, 255, 0.8); border-radius: 50px; animation: moveLeft linear infinite; }
        .cloud::after, .cloud::before { content: ''; position: absolute; background: inherit; border-radius: 50%; }
        .c1 { width: 110px; height: 45px; top: 18%; left: 100%; animation-duration: 35s; opacity: 0.9; }
        .c1::after { width: 55px; height: 55px; top: -25px; left: 15px; } .c1::before { width: 45px; height: 45px; top: -18px; left: 50px; }
        .c2 { width: 90px; height: 35px; top: 35%; left: 115%; animation-duration: 25s; opacity: 0.7; transform: scale(0.8); }
        .c2::after { width: 45px; height: 45px; top: -22px; left: 12px; }
        .c3 { width: 130px; height: 55px; top: 12%; left: 130%; animation-duration: 45s; opacity: 0.5; transform: scale(1.2); }
        .c3::after { width: 70px; height: 70px; top: -35px; left: 25px; } .c3::before { width: 60px; height: 60px; top: -25px; left: 60px; }
        @keyframes moveLeft { 100% { transform: translateX(-180vw); } }

        /* --- 2. 双鸟比翼双飞 --- */
        .bird-container {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 20;
            animation: group-glide 5s ease-in-out infinite;
        }

        .bird-svg {
            position: absolute;
            height: auto;
            transition: fill 3s;
            filter: drop-shadow(0 2px 3px rgba(0,0,0,0.2));
            overflow: visible;
        }

        .day-mode .bird-shape { fill: var(--bird-color-day); }
        .night-mode .bird-shape { fill: var(--bird-color-night); }

        .bird-large { width: 80px; top: 0; left: 0; z-index: 2; }
        .bird-small { width: 50px; top: 20px; left: -45px; z-index: 1; opacity: 0.95; animation: sub-glide 5s ease-in-out infinite -0.8s; }

        @keyframes group-glide {
            0%, 100% { transform: translate(-50%, -50%) translateY(0) rotate(0deg); }
            50% { transform: translate(-50%, -50%) translateY(-15px) rotate(1.5deg); }
        }
        @keyframes sub-glide {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(8px) rotate(-1deg); }
        }

        /* --- 3. 无缝卡通海浪 (核心修改) --- */
        .ocean-wrapper {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40vh; /* 增加波浪区域高度 */
            z-index: 15;
            overflow: hidden;
            pointer-events: none;
        }

        /* 填充底部的颜色块，防止波浪起伏时露出背景 */
        .ocean-base {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 20vh;
            background-color: var(--ocean-bg-day);
            transition: background-color 3s ease;
            z-index: 0;
        }
        .night-mode .ocean-base { background-color: var(--ocean-bg-night); }

        .waves-container {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .wave {
            position: absolute;
            left: 0;
            width: 200%; /* 关键：宽度为200%，包含两个完整的波浪周期 */
            background-repeat: repeat-x;
            background-position: 0 bottom;
            transition: background-color 3s ease;
            /* 使用Mask来实现波浪形状，方便通过背景色改变颜色 */
            -webkit-mask-repeat: repeat-x;
            mask-repeat: repeat-x;
            /* 修正Mask尺寸：50% 100% 意味着在200%的宽度里重复两次，刚好接上 */
            -webkit-mask-size: 50% 100%;
            mask-size: 50% 100%;
            -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 300' preserveAspectRatio='none'%3E%3Cpath d='M0,100 C250,200 500,0 750,100 S1000,100 1000,100 V300 H0 Z' fill='black'/%3E%3C/svg%3E");
            mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 300' preserveAspectRatio='none'%3E%3Cpath d='M0,100 C250,200 500,0 750,100 S1000,100 1000,100 V300 H0 Z' fill='black'/%3E%3C/svg%3E");
        }

        /* 统一的流动动画：从 0% 移动到 -50% (即移动半个身位，刚好回到原点形状) */
        @keyframes wave-scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* 后排波浪 */
        .wave-back {
            bottom: 12vh;
            height: 20vh;
            z-index: 1;
            opacity: 1;
            background-color: var(--ocean-wave-back);
            animation: wave-scroll 25s linear infinite;
        }
        .night-mode .wave-back { background-color: var(--ocean-wave-back-night); }

        /* 中间波浪 */
        .wave-mid {
            bottom: 6vh;
            height: 22vh;
            z-index: 2;
            opacity: 1;
            background-color: var(--ocean-wave-mid);
            /* 反向流动增加层次感，但要处理好起始点，这里使用正向但不同速度更稳妥 */
            animation: wave-scroll 18s linear infinite;
            /* 稍微错位 */
            left: -20px;
        }
        .night-mode .wave-mid { background-color: var(--ocean-wave-mid-night); }

        /* 前排波浪 */
        .wave-front {
            bottom: -2vh;
            height: 25vh;
            z-index: 3;
            opacity: 1;
            background-color: var(--ocean-wave-front);
            animation: wave-scroll 10s linear infinite;
        }
        .night-mode .wave-front { background-color: var(--ocean-wave-front-night); }


        /* --- 文字信息 --- */
        .info-container {
            position: absolute;
            bottom: 12vh;
            width: 100%;
            text-align: center;
            z-index: 30;
        }

        .timer-box {
            display: inline-block;
            background: rgba(255, 255, 255, 0.15);
            padding: 14px 28px;
            border-radius: 40px;
            backdrop-filter: blur(20px) saturate(120%);
            -webkit-backdrop-filter: blur(20px) saturate(120%);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
        }

        .timer-text { font-size: 15px; font-weight: 500; letter-spacing: 0.5px; }
        .timer-highlight { font-family: "SF Pro Display", sans-serif; font-weight: 700; font-size: 18px; font-variant-numeric: tabular-nums; margin: 0 3px; }

    </style>
</head>
<body>

<div id="app" class="day-mode">
    <div class="celestial-orbit-container">
        <div class="celestial-body">
            <div class="celestial-body-inner"></div>
        </div>
    </div>

    <div class="clouds-container">
        <div class="cloud c1"></div>
        <div class="cloud c2"></div>
        <div class="cloud c3"></div>
    </div>

    <div class="bird-container">
        <svg class="bird-svg bird-large" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path class="bird-shape" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/>
        </svg>

        <svg class="bird-svg bird-small" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path class="bird-shape" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/>
        </svg>
    </div>

    <div class="ocean-wrapper">
        <div class="waves-container">
            <div class="wave wave-back"></div>
            <div class="wave wave-mid"></div>
            <div class="wave wave-front"></div>
        </div>
        <div class="ocean-base"></div>
    </div>

    <div class="info-container">
        <div class="timer-box">
            <div class="timer-text" id="timer">Loading...</div>
        </div>
    </div>
</div>

<script>
    // 配置时间
    const START_DATE = new Date('2011-02-16T00:00:00+08:00');

    const timerElement = document.getElementById('timer');
    const appElement = document.getElementById('app');
    const rootElement = document.documentElement;

    function updateTimer() {
        const now = new Date();
        const diff = now - START_DATE;

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);

        timerElement.innerHTML = `今天是Bitty飞翔的<br><span class="timer-highlight">${days}</span> 天 <span class="timer-highlight">${String(hours).padStart(2, '0')}</span> 小时 <span class="timer-highlight">${String(minutes).padStart(2, '0')}</span> 分 <span class="timer-highlight">${String(seconds).padStart(2, '0')}</span> 秒`;
    }

    function updateEnvironment() {
        const now = new Date();
        const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
        const beijingDate = new Date(utc + (3600000 * 8));

        const currentHour = beijingDate.getHours();
        const currentMinute = beijingDate.getMinutes();

        const totalMinutes = currentHour * 60 + currentMinute;
        const totalDayMinutes = 24 * 60;
        const percentage = totalMinutes / totalDayMinutes;

        const angle = (percentage * 360) - 180;
        rootElement.style.setProperty('--celestial-angle', `${angle}deg`);

        const isDayTime = currentHour >= 6 && currentHour < 18;

        if (isDayTime) {
            if (appElement.classList.contains('night-mode')) {
                appElement.classList.remove('night-mode');
                appElement.classList.add('day-mode');
            }
        } else {
            if (appElement.classList.contains('day-mode')) {
                appElement.classList.remove('day-mode');
                appElement.classList.add('night-mode');
            }
        }
    }

    updateTimer();
    updateEnvironment();

    setInterval(updateTimer, 1000);
    setInterval(updateEnvironment, 60000);

</script>

</body>
</html>